{% extends 'layout.html' %}

{% block title %}
Login
{% endblock %}

{% block content %}
<!-- <main id="main-holder">
  <h1 id="login-header">Login</h1>

  <div id="login-error-msg-holder">
    <p id="login-error-msg">Invalid username <span id="error-msg-second-line">and/or password</span></p>
  </div>

  <form id="login-form">
    <input type="text" name="username" id="username-field" class="login-form-field" placeholder="Username">
    <input type="password" name="password" id="password-field" class="login-form-field" placeholder="Password">
    <input type="submit" value="Login" id="login-form-submit">
  </form>
 -->
<!-- Modal -->

<body>
  <div class="modal p-5" id="loginModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Login to Foodie Hub</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form method="POST">
            <!-- <div id="login-error-msg-holder">
            <p id="login-error-msg">Invalid username <span id="error-msg-second-line">and/or password</span></p>
          </div> -->
            <div class="mb-3">
              <form id="login-form">
                <label for="username-field" class="form-label">Username</label>
                <input type="email" name="username" id="username-field" class="form-control" placeholder="Username">
                <label for="password-field" class="form-label">Password</label>
                <input type="password" name="password" id="password-field" class="form-control" placeholder="Password">
                <a href="#" class="link">Forgot your password?</a>
                <div class="d-grid gap-2">
                  <button type="submit" class="btn m-2">Login</button>
                  <p>Don't have an account?
                    <a href="#" class="link"><b>Sign up here!</b></a>
                  </p>
                </div>
              </form>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  </main>

  <script>
    // This is still a WIP for the modals, still a bit buggy
    // window.addEventListener('DOMContentLoaded', function () {
    //   var loginModal = new bootstrap.Modal(document.getElementById('loginModal'));
    //   loginModal.show();
    // });
    const loginBtn = document.getElementById("loginBtn");
    const loginModal = new bootstrap.Modal(document.getElementById('loginModal'));

    // Add an event listener to the login button
    loginBtn.addEventListener("click", function () {
      // Show the login modal when the button is clicked
      loginModal.show();
      // This is supposed to make the rest of the page active again once the 
      // modal is closed but it's not working yet
      loginModal.addEventListener('hidden.bs.modal', function () {
        document.body.style.overflow = 'auto';

      });
    });
  </script>
</body>

{% endblock %}